<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estados do Brasil - Drag and Drop</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Cabeçalho fixo -->
    <div id="header">Estados do Brasil</div>

    <!-- Barra fixa com os nomes dos estados (agora como elementos arrastáveis) -->
    <div id="words-bar">
        <div class="word-box" draggable="true" ondragstart="drag(event)" id="word-Acre">Acre</div>
        <div class="word-box" draggable="true" ondragstart="drag(event)" id="word-Alagoas">Alagoas</div>
        <div class="word-box" draggable="true" ondragstart="drag(event)" id="word-Amapá">Amapá</div>
        <div class="word-box" draggable="true" ondragstart="drag(event)" id="word-Amazonas">Amazonas</div>
        <div class="word-box" draggable="true" ondragstart="drag(event)" id="word-Bahia">Bahia</div>
        <!-- Adicione os outros estados aqui -->
    </div>

    <div id="main-container">
        <div id="map-container">
            <img src="img/mapa_brasil.png" alt="Mapa do Brasil">
        </div>
    </div>

    <!-- Container do botão -->
    <div id="button-container">
        <button id="submit-button" onclick="verificarFinalizacao()">Enviar Respostas</button>
    </div>

    <script>
        // Estados e posições corretas
        const estados = ["Acre", "Alagoas", "Amapá", "Amazonas", "Bahia"];
        const posicoes = {
            "Acre": { top: "39%", left: "5%" },
            "Alagoas": { top: "40%", left: "93%" },
            "Amapá": { top: "10%", left: "49%" },
            "Amazonas": { top: "25%", left: "18%" },
            "Bahia": { top: "45%", left: "70%" }
        };

        const mapContainer = document.getElementById("map-container");

        // Criar dropzones no mapa
        estados.forEach(estado => {
            let div = document.createElement("div");
            div.className = "dropzone";
            div.dataset.estado = estado;
            div.ondrop = drop;
            div.ondragover = allowDrop;
            div.style.top = posicoes[estado].top;
            div.style.left = posicoes[estado].left;
            mapContainer.appendChild(div);
        });

        function allowDrop(event) {
            event.preventDefault();
        }

        function drag(event) {
            event.dataTransfer.setData("text", event.target.id);
        }

        function drop(event) {
            event.preventDefault();
            let draggedId = event.dataTransfer.getData("text");
            let draggedElement = document.getElementById(draggedId);
            let dropzone = event.target;

            // Verifica se está colocando no local correto
            let estadoCorreto = dropzone.dataset.estado;
            let estadoArrastado = draggedElement.innerText;

            if (estadoCorreto === estadoArrastado) {
                dropzone.innerText = estadoArrastado;
                dropzone.style.border = "2px solid green";
                dropzone.style.color = "white";
                dropzone.style.fontWeight = "bold";
                draggedElement.remove();
            } else {
                dropzone.style.border = "2px solid red";
                setTimeout(() => {
                    dropzone.style.border = "2px solid #fcf8f8";
                }, 1000);
            }
        }

        function verificarFinalizacao() {
            alert("Respostas enviadas!");
        }
    </script>
</body>
</html>
